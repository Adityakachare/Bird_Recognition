<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Tweet Spot - Bird Audio Recording Services</title>
    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <!-- Fontawesome CSS -->
    <link href="css/all.css" rel="stylesheet" />
    <!-- Custom styles for this template -->
    <link href="css/style.css" rel="stylesheet" />
  </head>
  <body>
    <!-- Navigation -->
    <nav
      class="navbar fixed-top navbar-expand-lg navbar-dark bg-light top-nav fixed-top"
    >
      <div class="container">
        <a class="navbar-brand" href="index.html">
          <img src="images/logo.png" alt="logo" />
        </a>
        <button
          class="navbar-toggler navbar-toggler-right"
          type="button"
          data-toggle="collapse"
          data-target="#navbarResponsive"
          aria-controls="navbarResponsive"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="fas fa-bars"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link active" href="index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="about.html">Our Recordists</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="services.html">Services</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="BirdRecordings.html">Bird Recordings</a>
            </li>
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="navbarDropdownBlog"
                data-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
              >
                Pages
              </a>
              <div
                class="dropdown-menu dropdown-menu-right"
                aria-labelledby="navbarDropdownBlog"
              >
                <a class="dropdown-item" href="faq.html">FAQ</a>
                <a class="dropdown-item" href="404.html">404</a>
                <a class="dropdown-item" href="pricing.html">Pricing Table</a>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="contact.html">Contact</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <header class="slider-main">
      <div
        id="carouselExampleIndicators"
        class="carousel slide carousel-fade"
        data-ride="carousel"
      >
        <ol class="carousel-indicators">
          <li
            data-target="#carouselExampleIndicators"
            data-slide-to="0"
            class="active"
          ></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner" role="listbox">
          <!-- Slide One - Set the background image for this slide in the line below -->
          <div
            class="carousel-item active"
            style="background-image: url('images/slider-01.jpg')"
          >
            <div class="carousel-caption d-none d-md-block">
              <h3>Flame-throated bulbul</h3>
              <p>Rubigula gularis</p>
            </div>
          </div>
          <!-- Slide Two - Set the background image for this slide in the line below -->
          <div
            class="carousel-item"
            style="background-image: url('images/slider-02.jpg')"
          >
            <div class="carousel-caption d-none d-md-block">
              <h3>Andaman bulbul</h3>
              <p>Brachypodius fuscoflavescens</p>
            </div>
          </div>
          <!-- Slide Three - Set the background image for this slide in the line below -->
          <div
            class="carousel-item"
            style="background-image: url('images/slider-03.jpg')"
          >
            <div class="carousel-caption d-none d-md-block">
              <h3>Andaman coucal</h3>
              <p>Dicrurus hottentottus</p>
            </div>
          </div>
        </div>
        <a
          class="carousel-control-prev"
          href="#carouselExampleIndicators"
          role="button"
          data-slide="prev"
        >
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a
          class="carousel-control-next"
          href="#carouselExampleIndicators"
          role="button"
          data-slide="next"
        >
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
    </header>
    <!-- Floating Button -->
    <a
      href="#upload-section"
      class="float-btn"
      data-toggle="tooltip"
      title="Scroll to Upload Section"
    >
      <i class="fas fa-arrow-down"></i>
    </a>
    <!-- Page Content -->
    <div class="container">
      <div class="services-bar">
        <!-- Services Section -->
        <!-- /.row -->
      </div>
      <!-- About Section -->
      <div class="about-main">
        <div class="row">
          <div class="col-lg-6">
            <h2>Welcome to Tweet Spot</h2>
            <p>
              At Tweet Spot, we connect bird lovers with nature through the
              beauty of bird songs. Upload your bird audio and let our smart
              technology recognize the species behind the sound.
            </p>
            <h5>Our Unique Approach</h5>
            <ul>
              <li>
                Advanced audio recognition to identify bird species through
                their calls.
              </li>
              <li>
                User-friendly platform designed for easy upload and interaction.
              </li>
              <li>
                A growing database of bird sounds for learning and discovery.
              </li>
              <li>
                Community-driven platform for sharing and exploring bird songs.
              </li>
              <li>
                Seamlessly designed to bring the wonders of bird calls to
                everyone.
              </li>
            </ul>
            <p>
              Whether you're a seasoned bird watcher or just curious, Tweet Spot
              brings the melody of nature to your fingertips. Join us in
              discovering the symphony of the wild, one tweet at a time.
            </p>
          </div>
          <div class="col-lg-6">
            <img
              class="img-fluid rounded"
              src="images/about-img.jpg"
              alt="Bird watching image"
            />
          </div>
        </div>
        <!-- /.row -->
      </div>

      <div id="upload-section" class="upload-audio-section my-5">
        <h2 class="text-center">Upload Your Recording to Recognize the Bird</h2>
        <p class="text-center">
          Share your bird sound recordings and let our advanced recognition
          technology identify the bird species.
        </p>
        <div class="row justify-content-center">
          <div class="col-lg-10">
            <div class="upload-container p-5 text-center">
              <form
                id="uploadForm"
                enctype="multipart/form-data"
                action="/predict"
                method="POST"
              >
                <div class="form-group">
                  <label for="birdAudio" class="form-label"
                    >Choose an audio file:</label
                  >
                  <input
                    type="file"
                    class="form-control form-control-lg"
                    id="fileInput"
                    name="fileInput"
                    accept="audio/*"
                    required
                  />
                </div>
                <button type="submit" class="btn btn-success btn-lg btn-block">
                  Upload Recording
                </button>
              </form>

              <!-- Loading spinner -->
              <div id="loading" style="display: none; margin-top: 20px">
                <div class="spinner-border text-success" role="status">
                  <span class="visually-hidden">Analyzing...</span>
                </div>
                <p>Analyzing the audio... Please wait!</p>
              </div>

              <!-- Prediction result display -->
              <div id="result" class="mt-4" style="display: none">
                <h3 class="text-success">ðŸŽ‰ Bird Identified:</h3>
                <h4 id="birdName" class="fw-bold"></h4>
                <p id="birdInfo" class="text-muted"></p>
                <img
                  id="birdImage"
                  src=""
                  class="img-fluid rounded mt-3"
                  alt="Bird Image"
                  style="max-width: 300px"
                />
              </div>

              <!-- Error display -->
              <div
                id="error"
                class="mt-4 text-danger"
                style="display: none"
              ></div>
            </div>
          </div>
        </div>
      </div>

      <hr />
      <!-- Get In Touch Now Section -->
      <div class="row mb-4">
        <div class="col-md-8">
          <b>Have Questions or Suggestions?</b>
          <p>
            We'd love to hear from you! Whether you need assistance or want to
            share feedback, feel free to reach out. Our team is here to help you
            discover the wonders of bird sounds.
          </p>
        </div>
        <div class="col-md-4">
          <a class="btn btn-lg btn-secondary btn-block" href="contact.html"
            >Get In Touch Now</a
          >
        </div>
      </div>
    </div>
    <!--footer starts from here-->
    <footer class="footer">
      <div class="container bottom_border">
        <div class="row">
          <div class="col-lg-3 col-md-6 col-sm-6 col">
            <h5 class="headin5_amrc col_white_amrc pt2">Find Us</h5>
            <p class="mb10">
              Explore the beauty of bird sounds with Tweet Spot. Discover,
              learn, and connect with nature.
            </p>
            <p>
              <i class="fa fa-location-arrow"></i> 123 Birdwatch Lane, Nature
              City, NC 27559
            </p>
            <p><i class="fa fa-phone"></i> +91-9998765432</p>
            <p><i class="fa fa-envelope"></i> info@tweetspot.com</p>
          </div>
          <div class="col-lg-3 col-md-6 col-sm-6 col">
            <h5 class="headin5_amrc col_white_amrc pt2">Follow Us</h5>
            <ul class="footer_ul2_amrc">
              <li>
                <a href="#"
                  ><i class="fab fa-twitter fleft padding-right"></i>
                </a>
                <p>
                  Stay updated with our latest news!
                  <a href="#">https://twitter.com/tweetspot</a>
                </p>
              </li>
              <li>
                <a href="#"
                  ><i class="fab fa-facebook-f fleft padding-right"></i>
                </a>
                <p>
                  Join our community on Facebook!
                  <a href="#">https://facebook.com/tweetspot</a>
                </p>
              </li>
              <li>
                <a href="#"
                  ><i class="fab fa-instagram fleft padding-right"></i>
                </a>
                <p>
                  Follow our birdwatching adventures on Instagram!
                  <a href="#">https://instagram.com/tweetspot</a>
                </p>
              </li>
            </ul>
          </div>
          <div class="col-lg-3 col-md-6 col-sm-6">
            <h5 class="headin5_amrc col_white_amrc pt2">Quick Links</h5>
            <ul class="footer_ul_amrc">
              <li><a href="#">Home</a></li>
              <li><a href="#">About Us</a></li>
              <li><a href="#">Bird Identification</a></li>
              <li><a href="#">Contact Us</a></li>
              <li><a href="#">FAQs</a></li>
              <li><a href="#">Blog</a></li>
            </ul>
          </div>
          <div class="col-lg-3 col-md-6 col-sm-6">
            <h5 class="headin5_amrc col_white_amrc pt2">Recent Posts</h5>
            <ul class="footer_ul_amrc">
              <li class="media">
                <div class="media-left">
                  <img
                    class="img-fluid"
                    src="images/post-img-01.jpg"
                    alt="Bird post image"
                  />
                </div>
                <div class="media-body">
                  <p>Top 5 Birds to Spot This Spring</p>
                  <span>22 Mar 2024</span>
                </div>
              </li>
              <li class="media">
                <div class="media-left">
                  <img
                    class="img-fluid"
                    src="images/post-img-02.jpg"
                    alt="Bird post image"
                  />
                </div>
                <div class="media-body">
                  <p>How to Record Bird Sounds Effectively</p>
                  <span>18 Mar 2024</span>
                </div>
              </li>
              <li class="media">
                <div class="media-left">
                  <img
                    class="img-fluid"
                    src="images/post-img-03.jpg"
                    alt="Bird post image"
                  />
                </div>
                <div class="media-body">
                  <p>Understanding Bird Calls: A Beginner's Guide</p>
                  <span>15 Mar 2024</span>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="container">
        <div class="footer-logo">
          <a href="#"> <img src="images/logo.png" alt="logo" /></a>
        </div>
        <p class="copyright text-center">
          All Rights Reserved. &copy; 2024 <a href="#">Tweet Spot</a>. Design
          By:
          <a href="">ITA03</a>
        </p>
        <ul class="social_footer_ul">
          <li>
            <a href="#"><i class="fab fa-facebook-f"></i></a>
          </li>
          <li>
            <a href="#"><i class="fab fa-twitter"></i></a>
          </li>
          <li>
            <a href="#"><i class="fab fa-linkedin"></i></a>
          </li>
          <li>
            <a href="#"><i class="fab fa-instagram"></i></a>
          </li>
        </ul>
      </div>
    </footer>
    <!-- Bootstrap core JavaScript -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const floatBtn = document.querySelector(".float-btn");
        const uploadSection = document.querySelector("#upload-section");

        // Observer to hide/show the button based on the section's visibility
        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              floatBtn.style.display = "none";
            } else {
              floatBtn.style.display = "block";
            }
          });
        });

        observer.observe(uploadSection);

        // Smooth scroll to the section when the button is clicked
        floatBtn.addEventListener("click", function (e) {
          e.preventDefault();
          uploadSection.scrollIntoView({ behavior: "smooth" });
        });
      });
      $(document).ready(function () {
        $('[data-toggle="tooltip"]').tooltip();
      });
    </script>

    <script>
      document
        .getElementById("uploadForm")
        .addEventListener("submit", async (e) => {
          e.preventDefault(); // Prevent page reload

          const formData = new FormData();
          const fileInput = document.getElementById("fileInput");
          const loadingSpinner = document.getElementById("loading");
          const resultDiv = document.getElementById("result");
          const errorDiv = document.getElementById("error");
          const birdName = document.getElementById("birdName");
          const birdInfo = document.getElementById("birdInfo");
          const birdImage = document.getElementById("birdImage");

          if (fileInput.files.length === 0) {
            alert("Please select an audio file!");
            return;
          }

          //formData.append("file", fileInput.files[0]);

          formData.append("birdAudio", fileInput.files[0]); // âœ… Correct key and file
          const file = fileInput.files[0]; // âœ… Ensure this gets the first file

          // Show loading spinner
          loadingSpinner.style.display = "block";
          resultDiv.style.display = "none";
          errorDiv.style.display = "none";

          try {
            const response = await fetch("http://127.0.0.1:5000/predict", {
              method: "POST",
              body: formData,
            });

            const data = await response.json();

            // Hide spinner
            loadingSpinner.style.display = "none";

            if (response.ok) {
              // Show prediction result
              birdName.textContent = data.bird_species || "Unknown Bird";
              birdInfo.textContent =
                data.description || "No additional information available.";
              birdImage.src = data.image_url || "images/default-bird.jpg";
              birdImage.alt = data.bird_species || "Bird Image";
              resultDiv.style.display = "block";
            } else {
              errorDiv.textContent =
                data.error || "Failed to recognize the bird.";
              errorDiv.style.display = "block";
            }
          } catch (error) {
            loadingSpinner.style.display = "none";
            errorDiv.textContent =
              "An error occurred while processing the audio.";
            errorDiv.style.display = "block";
          }
        });
    </script>
  </body>
</html>
